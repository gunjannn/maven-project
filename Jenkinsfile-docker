node{
stage('scm checkout')
{
git 'https://github.com/gunjannn/maven-project.git'
}
stage('mvn package'){
sh label: '', script: 'mvn clean package'
}
stage('docker image build')
{
 sh 'docker build -t dockergunn/tomcat:1.0.0 .'
}
stage('push images to dockerhub')
{
withCredentials([string(credentialsId: 'Dockergunn', variable: 'Dockergunn')]) {
	     sh "docker login -u dockergunn -p ${Dockergunn}"
}
 sh 'docker push dockergunn/tomcat:1.0.0'
}
}
